<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>House of Black and White</title>
		<link rel="stylesheet" href="/stylesheets/hyde.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link href='http://blog.chriszimmerman.net/feed.xml' rel='alternate' type='application/atom+xml'>
  </head>
  <body>
	<div class="sidebar">
	</div>
	<div class="wrapper">
		<section>
			<div id="title">
				<span>
					<h1><a href="/">House of Black and White</a>
						<a href='/feed.xml'><img length='20' width='20' src='/images/rss3.jpg' /></a>
					</h1>
				</span>
				<p></p>
				<hr>
				<span class="credits left">Project maintained by <a href="https://github.com/chriszimmerman">chriszimmerman</a></span>
				<span class="credits right">Theme by <a href="https://twitter.com/michigangraham">mattgraham</a> </span>
			</div>
			<h1 id="game-programming-in-c-with-xna">Game Programming in C# With XNA</h1>

<p>Every year for the past few years I’ve been going to PAX East in Boston. Every time, I get inspired to make video games but never actually act on that inspiration. I don’t know if it’s due to A) a lack of original ideas, B) poor artistic skill, C) laziness, or D) all of the above.</p>

<p>Shortly after my trip to PAX East in March of this year, I started a Coursera class about game programming in C#. In this class, I learned about writing C# games using the XNA Framework. The class was aimed at people who have never done programming before, but that was fine. Because I already knew the language features of C# taught in the class, I was able to focus on the XNA objects and APIs, as well as game-programming-specific concepts, such as collision detection, and calculating sprite velocities.</p>

<p>I would like to share what I learned in the course from the XNA and game development perspective.</p>

<h2 id="the-game-loop">The Game Loop</h2>

<p>One of the most fundamental concepts in game programming is the game loop. The game loop constantly runs, checking for user input and updating the environment. For example, the game loop may have code to draw a bullet sprite from a spaceship when the left mouse button is pressed. There may be code to check for when a bullet sprite comes into contact with an alien sprite and play an explosion animation when that occurs. The game loop repeats indefinitely until the game is terminated.</p>

<p>The following code sample is from a simplified blackjack game I wrote for an assignment:</p>

<pre><code>protected override void Update(GameTime gameTime)
{
	MouseState mouseState = Mouse.GetState();
	foreach(var menuButton in menuButtons){
		if(currentState == GameState.WaitingForPlayer || currentState == GameState.DisplayingHandResults){
			menuButton.Update(mouseState);
		}
	}

	switch(currentState){
		case GameState.PlayerHitting:
			PlayerHit();
			break;
		case GameState.WaitingForDealer:
			DealerTurn();
			break;
		case GameState.DealerHitting:
			DealerHit();
			break;
		case GameState.CheckingHandOver:
			CheckHandOver();
			break;
		case GameState.DisplayingHandResults:
			break;
		case GameState.Exiting:
			Exit();
			break;
		default:
			break;
	}

	base.Update(gameTime);
}
</code></pre>

<p>Every time this method executes (which is happening very often), it’s getting information about the mouse which is stored in mouseState. This includes the X and Y position of the cursor, which button(s) are pressed, etc. The blackjack game was designed around a DFA, the states of which are determined by each of the GameState enum values. If the game is in either of the two states where player input is awaited (GameState.WaitingForPlayer and GameState.DisplayingHandResults), it’s going to call the Update method on each menu button within the game, which will check if any of the buttons (such as the Hit, Stand, or Quit buttons) have been clicked. If the game is not in any of those states, it’s going to go through the switch statement and execute the appropriate code which represents the DFA transition. </p>

<h2 id="sprites">Sprites</h2>

<p>In 2D game programming, all objects in the world are displayed as sprites. Player characters, enemies the player fights, items the player gets, and other objects and entities in the world are displayed as sprites. Sprites are rectangles of varying sizes that have images placed on them.</p>

<p>place sprite example here</p>

<h2 id="collision-detection">Collision Detection</h2>

<p>In order for games to be interesting, things need to happen when sprites interact with each other. Collision detection is a term used to describe when the game checks for when sprites intersect each other and what to do when that happens. In Super Mario Bros. if Mario walks into a goomba, he shrinks if he’s big or he dies if he’s small. However, if he jumps on the goomba, he’ll bounce back up and get points.</p>

<p>Motivation</p>

<p>Topics - C#, game programming, XNA</p>

<p>Projects
blackjack, french fries shooting at teddy bears</p>

<p>XNA
Mouse, MouseState, Texture2D, Rectangle, velocity2
LoadContent, Draw, Update</p>


		</section>

		
	</div>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>
