<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>House of Black and White</title>
		<link rel="stylesheet" href="/stylesheets/hyde.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link href='http://blog.chriszimmerman.net/feed.xml' rel='alternate' type='application/atom+xml'>
  </head>
  <body>
	<div class="wrapper">
		<section>
			<div id="title">
				<span>
					<h1><a href="/">House of Black and White</a>
						<a href='/feed.xml'><img length='20' width='20' src='/images/rss3.jpg' /></a>
					</h1>
				</span>
				<p></p>
				<hr>
				<span class="credits left">Project maintained by <a href="https://github.com/chriszimmerman">chriszimmerman</a></span>
				<span class="credits right">Theme by <a href="https://twitter.com/michigangraham">mattgraham</a> </span>
			</div>
			<h1>Javascript - call() and apply()</h1>

<p>When I first encountered the call() and apply() functions in Javascript, I had difficulty wrapping my head around how they worked. I also wasn&#39;t really sure what practical purpose they served. I&#39;m going to explain how these two functions work and what they are used for.</p>

<h2>call()</h2>

<p>call() is a function that allows you to execute a function while specifying your own context in which it will run. For example, let&#39;s say we had the following function:</p>
<div class="highlight"><pre><code class="language-" data-lang="">function printPokemonInfo() {
    alert(this.name + ' is Pokemon #' + this.number + ' and is a ' + this.type + ' type.');
}
</code></pre></div>
<p>This function will print out information about a Pokemon in an alert window. However, something is amiss.</p>

<p>The function is accessing properties off of <code>this</code> to display the information. But no Pokemon object is being passed in. And no, this function is not part of an object that contains the properties being accessed.</p>

<p>As it is, this function will execute with all of the accessed values being undefined, which is pretty useless.</p>

<p>Let&#39;s also say I have the following variable declared:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var pokemon = { number: '001', name: 'Bulbasaur', type: 'Grass' };
</code></pre></div>
<p>I can make this function work by calling the call() function like so:</p>
<div class="highlight"><pre><code class="language-" data-lang="">printPokemonInfo.call(pokemon);
</code></pre></div>
<p>Now I get the expected output:</p>
<div class="highlight"><pre><code class="language-" data-lang="">Bulbasaur is Pokemon #001 and is a Grass type.
</code></pre></div>
<p>Why on earth would you want to do this? What practical purpose does this serve?  Why not just make the pokemon an argument of the function? I&#39;ll explain shortly. But first, I want to also show you apply().</p>

<h2>apply()</h2>

<p>Let&#39;s take the above example where we use call and replace call with apply:</p>
<div class="highlight"><pre><code class="language-" data-lang="">printPokemonInfo.apply(pokemon);
</code></pre></div>
<p>We get the exact same result as before. Okay, there must be a difference between the two. Otherwise, why have two different things that do the same thing?</p>

<p>Both call() and apply() take additional arguments that are optional. call() takes a list of optional arguments to pass into the function, whereas apply() takes a single array of arguments to pass in.</p>

<p>I will modify my function to demonstrate how additional arguments work for call():</p>
<div class="highlight"><pre><code class="language-" data-lang="">function printPokemonInfo(times, adjective) {
    for(var i = 0; i &lt; times; i++){
        alert(this.name + ' is Pokemon #' + this.number + ' and is a ' + this.type + ' type. It is ' + adjective + '.' );
    }
}
</code></pre></div>
<p>And I&#39;ll make the following call:</p>
<div class="highlight"><pre><code class="language-" data-lang="">printPokemonInfo.call(pokemon, 3, 'cool');
</code></pre></div>
<p>Now I will get three alert dialogs that say:</p>
<div class="highlight"><pre><code class="language-" data-lang="">Bulbasaur is Pokemon #001 and is a Grass type. It is cool.
</code></pre></div>
<p>As I said before, apply() only takes an array of arguments as an additional argument. So I would have to slightly change what I&#39;m passing in to apply():</p>
<div class="highlight"><pre><code class="language-" data-lang="">printPokemonInfo.apply(pokemon, [3, 'cool']);
</code></pre></div>
<p>I get the same result. I get three alert dialogs that say:</p>
<div class="highlight"><pre><code class="language-" data-lang="">Bulbasaur is Pokemon #001 and is a Grass type. It is cool.
</code></pre></div>
<h2>Practical Applications</h2>

<p>A great practical purpose of using call() and apply() is to make use of faking subclassing in JavaScript. Although JavaScript is a prototype-based language and not a classical one, you can still perform a facsimile of inheritance by using call() or apply().</p>

<p>Let&#39;s say I have the following constructor:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var Person = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
};
</code></pre></div>
<p>This constructor for my Person object takes in two parameters, firstName and lastName. Let&#39;s say I wanted to &#39;subclass&#39; and reuse this constructor for objects that I want to have the same properties as Person objects. I have two &#39;subclasses&#39;, Student and Professor, that make use of the Person constructor code so I don&#39;t have to write it again:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var Student = function(firstName, lastName, major) {
    Person.call(this, firstName, lastName);
    this.major = major;
};

var Professor = function(firstName, lastName, department) {
    Person.apply(this, [firstName, lastName]);
    this.department = department;
};
</code></pre></div>
<p>With the following code, I get an object with a firstName and lastName property:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var joe = new Person('Joe', 'Smith');
//  { firstName: "Joe", lastName: "Smith" }
</code></pre></div>
<p>With the following code, I get an object with a firstName, lastName, and department property:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var doc = new Professor('Richard', 'Stallman', 'Computer Science');
//  { firstName: "Richard", lastName: "Stallman", department: "Computer Science" }
</code></pre></div>
<p>The Student class works similarly:</p>
<div class="highlight"><pre><code class="language-" data-lang="">var jimmy = new Student('Jimmy', 'Jones', 'Psychology');
//  { firstName: "Jimmy", lastName: "Jones", major: "Psychology" }
</code></pre></div>
<h2>Conclusion</h2>

<p>The call() and apply() functions allow you to specify a context for a given function, along with any parameters needed for that function. These functions provide a great way to emulate subclassing in JavaScript.</p>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69251773-1', 'auto');
  ga('send', 'pageview');

</script>

		</section>

		
			<div id="disqus_thread"></div>
			<script type="text/javascript">
					/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
					var disqus_shortname = 'houseofblackandwhite'; // required: replace example with your forum shortname

					/* * * DON'T EDIT BELOW THIS LINE * * */
					(function() {
							var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
							dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
							(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
					})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		
	</div>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>
