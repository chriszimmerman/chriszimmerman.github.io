<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>House of Black and White</title>
		<link rel="stylesheet" href="/stylesheets/hyde.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link href='http://blog.chriszimmerman.net/feed.xml' rel='alternate' type='application/atom+xml'>
  </head>
  <body>
	<div class="wrapper">
		<section>
			<div id="title">
				<span>
					<h1><a href="/">House of Black and White</a>
						<a href='/feed.xml'><img length='20' width='20' src='/images/rss3.jpg' /></a>
					</h1>
				</span>
				<p></p>
				<hr>
				<span class="credits left">Project maintained by <a href="https://github.com/chriszimmerman">chriszimmerman</a></span>
				<span class="credits right">Theme by <a href="https://twitter.com/michigangraham">mattgraham</a> </span>
			</div>
			<h1>Semantic Versioning</h1>

<p>At work, the topic of semantic versioning came up. I decided to do some research on the topic since I had not heard of the term before. </p>

<h2>What is semantic versioning?</h2>

<p>Semantic versioning is a convention for version-naming for your products, whether they be libraries, APIs, etc. Its purpose is to prevent difficulties in releasing new versions of your product. It may be difficult to release a new version of your product if you have to wait for new versions of your product&#39;s dependencies to be released. You may also be reluctant to adopt new versions of packages or libraries since you might not know if a new version will break your existing code. </p>

<p>In short:</p>

<p><strong>Semantic versioning allows developers to easily reason about when it is and isn&#39;t appropriate to adopt a new version of a dependency.</strong></p>

<h2>Format</h2>

<p>For semantic versioning, your product must define a public API. The basic format for your API&#39;s version should be as follows:</p>
<div class="highlight"><pre><code class="language-" data-lang="">major.minor.patch
</code></pre></div>
<p>For example, let&#39;s say there is a library called Yarner, a string manipulation library. Its current version is 2.3.5. This means that the major version is 2, the minor version is 3, and the patch version is 5.</p>

<p>The significance of the numbers is as follows:  </p>
<div class="highlight"><pre><code class="language-" data-lang="">-major - incremented when API-breaking changes are made.
        Minor and patch numbers are reset to zero.
-minor - incremented when non-API-breaking changes are made.
        Patch number is reset to zero.
-patch - incremented when non-API-breaking bug fixes are made.
</code></pre></div>
<h2>Example</h2>

<p>I have a library called AreaCalculator which has a public method, CalculateRectangleArea. It is currently version 1.2.0. It has the following signature: </p>
<div class="highlight"><pre><code class="language-" data-lang="">CalculateRectangleArea(int length, int width).  
</code></pre></div>
<p>For whatever dumb reason, CalculateRectangleArea was calculating the area by multiplying length by itself:</p>
<div class="highlight"><pre><code class="language-" data-lang="">return length * length;
</code></pre></div>
<p>This was fixed and now the function correctly calculates the rectangle&#39;s area by returning the rectangle&#39;s length times width:</p>
<div class="highlight"><pre><code class="language-" data-lang="">return length * width;
</code></pre></div>
<p>Fixing this bug doesn&#39;t break the interface of CalculateRectangleArea and it&#39;s not a new feature, so the release containing this fix can be versioned as 1.2.1.</p>

<h2>Another example</h2>

<p>For my social website Stalk.me, I have provided an API v1.3.2 with which clients can find Users via the public FindPeopleNearby method. FindPeopleNearby takes a FindUserRequest object as its parameter. It has two fields, City and RangeInMiles.</p>
<div class="highlight"><pre><code class="language-" data-lang="">//v1.3.2
public class FindUserRequest {
    public string City { get; set; }
    public int RangeInMiles { get; set; }
}
</code></pre></div>
<p>During development, I decided to utilize state in addition to city for location since towns with the same name can be in different states. I have added a new field, State, that clients can put on their request. This doesn&#39;t break any functionality, so I can increase the minor version, which results in the patch version resetting to zero.</p>
<div class="highlight"><pre><code class="language-" data-lang="">//v1.4.0
public class FindUserRequest {
    public string City { get; set; }
    public string State { get; set; }
    public int RangeInMiles { get; set; }
}
</code></pre></div>
<p>During the next release, I realized there was a much better way to find out where a user was located: the zip code! Instead of using city and state, using the zip code is a much more efficient way of determining someone&#39;s location. However, clients may be depending on City and State existing to find location in their clients. I&#39;m going to be a jerk and change the contract deleting City and State. In doing this change, I break the current version, 1.4.0. I must increment the major version and reset the minor and patch versions to zero. This results in a new FindUserRequest:  </p>
<div class="highlight"><pre><code class="language-" data-lang="">//v2.0.0
public class FindUserRequest {
    public string ZipCode {get; set;}
    public int RangeInMiles {get; set;}
}
</code></pre></div>
<h2>Conclusion</h2>

<p>I hope these examples have illustrated how semantic versioning works and why you would want to adhere to it. The following link is how I learned about semantic versioning and is essentially what I have discussed in this blog, plus more:</p>

<p><a href="http://semver.org">Semantic Versioning</a></p>

<p>Thanks for reading!</p>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69251773-1', 'auto');
  ga('send', 'pageview');

</script>

		</section>

		
			<div id="disqus_thread"></div>
			<script type="text/javascript">
					/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
					var disqus_shortname = 'houseofblackandwhite'; // required: replace example with your forum shortname

					/* * * DON'T EDIT BELOW THIS LINE * * */
					(function() {
							var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
							dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
							(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
					})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		
	</div>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>
